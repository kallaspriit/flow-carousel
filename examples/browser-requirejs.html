<!DOCTYPE html>
<html>
<head lang="en">
	<meta charset="UTF-8">
	<title>FlowCarousel RequireJS example</title>
	<link rel="stylesheet" href="../dist/flow-carousel.css">
	<link rel="stylesheet" href="examples.css">
</head>
<body>
	<h1>FlowCarousel</h1>

	<h2>Basic horizontal carousel with default options</h2>
	<div id="basic-carousel" class="carousel carousel-horizontal">
		<div class="carousel-item">1</div>
		<div class="carousel-item">2</div>
		<div class="carousel-item">3</div>
		<div class="carousel-item">4</div>
		<div class="carousel-item">5</div>
		<div class="carousel-item">6</div>
		<div class="carousel-item">7</div>
		<div class="carousel-item">8</div>
		<div class="carousel-item">9</div>
		<div class="carousel-item">10</div>
		<div class="carousel-item">11</div>
		<div class="carousel-item">12</div>
		<div class="carousel-item">13</div>
		<div class="carousel-item">14</div>
		<div class="carousel-item">15</div>
		<div class="carousel-item">16</div>
		<div class="carousel-item">17</div>
		<div class="carousel-item">18</div>
		<div class="carousel-item">19</div>
		<div class="carousel-item">20</div>
		<div class="carousel-item">21</div>
		<div class="carousel-item">22</div>
		<div class="carousel-item">23</div>
		<div class="carousel-item">24</div>
		<div class="carousel-item">25</div>
		<div class="carousel-item">26</div>
		<div class="carousel-item">27</div>
		<div class="carousel-item">28</div>
		<div class="carousel-item">29</div>
		<div class="carousel-item">30</div>
	</div>
	<div>
		<button class="btn" data-action="previous-page" data-target="#basic-carousel">Previous page</button>
		<button class="btn" data-action="next-page" data-target="#basic-carousel">Next page</button>
	</div>

	<h2>Half-width horizontal carousel with margin</h2>
	<div id="half-width-carousel" class="carousel carousel-horizontal carousel-halfwidth">
		<div class="carousel-item">1</div>
		<div class="carousel-item">2</div>
		<div class="carousel-item">3</div>
		<div class="carousel-item">4</div>
		<div class="carousel-item">5</div>
		<div class="carousel-item">6</div>
		<div class="carousel-item">7</div>
		<div class="carousel-item">8</div>
		<div class="carousel-item">9</div>
		<div class="carousel-item">10</div>
		<div class="carousel-item">11</div>
		<div class="carousel-item">12</div>
		<div class="carousel-item">13</div>
		<div class="carousel-item">14</div>
		<div class="carousel-item">15</div>
		<div class="carousel-item">16</div>
		<div class="carousel-item">17</div>
		<div class="carousel-item">18</div>
		<div class="carousel-item">19</div>
		<div class="carousel-item">20</div>
		<div class="carousel-item">21</div>
		<div class="carousel-item">22</div>
		<div class="carousel-item">23</div>
		<div class="carousel-item">24</div>
		<div class="carousel-item">25</div>
		<div class="carousel-item">26</div>
		<div class="carousel-item">27</div>
		<div class="carousel-item">28</div>
		<div class="carousel-item">29</div>
		<div class="carousel-item">30</div>
	</div>
	<div>
		<button class="btn" data-action="previous-page" data-target="#half-width-carousel">Previous page</button>
		<button class="btn" data-action="next-page" data-target="#half-width-carousel">Next page</button>
	</div>

	<h2>Vertical non-responsive carousel</h2>
	<div id="vertical-carousel" class="carousel carousel-vertical">
		<div class="carousel-item">1</div>
		<div class="carousel-item">2</div>
		<div class="carousel-item">3</div>
		<div class="carousel-item">4</div>
		<div class="carousel-item">5</div>
		<div class="carousel-item">6</div>
		<div class="carousel-item">7</div>
		<div class="carousel-item">8</div>
		<div class="carousel-item">9</div>
		<div class="carousel-item">10</div>
		<div class="carousel-item">11</div>
		<div class="carousel-item">12</div>
		<div class="carousel-item">13</div>
		<div class="carousel-item">14</div>
		<div class="carousel-item">15</div>
		<div class="carousel-item">16</div>
		<div class="carousel-item">17</div>
		<div class="carousel-item">18</div>
		<div class="carousel-item">19</div>
		<div class="carousel-item">20</div>
		<div class="carousel-item">21</div>
		<div class="carousel-item">22</div>
		<div class="carousel-item">23</div>
		<div class="carousel-item">24</div>
		<div class="carousel-item">25</div>
		<div class="carousel-item">26</div>
		<div class="carousel-item">27</div>
		<div class="carousel-item">28</div>
		<div class="carousel-item">29</div>
		<div class="carousel-item">30</div>
	</div>
	<div>
		<button class="btn" data-action="previous-page" data-target="#vertical-carousel">Previous page</button>
		<button class="btn" data-action="next-page" data-target="#vertical-carousel">Next page</button>
	</div>


	<script src="lib/require.js"></script>
	<script>

	// configure RequireJS
	require.config({
		baseUrl: '../src',

		paths: {
			jquery: '../examples/lib/jquery'
		},

		// make sure jquery gets loaded before the FlowCarousel library
		shim: {
			'FlowCarousel': {
				deps: ['jquery']
			}
		}
	});

	// fetch the carousel component and run it
	require(['FlowCarousel', 'Config'], function(FlowCarousel, Config) {
		var basicCarousel = new FlowCarousel(),
			halfWidthCarousel = new FlowCarousel(),
			verticalCarousel = new FlowCarousel();

		basicCarousel.init('#basic-carousel');

		/*halfWidthCarousel.init('#half-width-carousel', {
			margin: 60
		});

		verticalCarousel.init('#vertical-carousel', {
			margin: 10,
			orientation: Config.Orientation.VERTICAL,
			useResponsiveLayout: false,
			itemsPerPage: 10
		});*/

		// setup buttons
		$('.btn').click(function() {
			var $btn = $(this),
				action = $(this).data('action'),
				target = $(this).data('target'),
				carouselWrap = $(target),
				carousel = carouselWrap.data('flow-carousel');

			switch (action) {
				case 'previous-page':
					var currentItemIndex = carousel.getCurrentItemIndex(),
						targetItemIndex = Math.max(currentItemIndex - 1, 0);

					$btn.prop('disabled', true);

					carousel.navigateToItem(targetItemIndex).done(function() {
						$btn.prop('disabled', false);
					});
				break;

				case 'next-page':
					var currentItemIndex = carousel.getCurrentItemIndex(),
						itemCount = carousel.getItemCount(),
						targetItemIndex = Math.min(currentItemIndex + 1, itemCount - 1);

					$btn.prop('disabled', true);

					carousel.navigateToItem(targetItemIndex).done(function() {
						$btn.prop('disabled', false);
					});
				break;
			}
		});

		// register globally for testing via console
		window.c = basicCarousel;
	});

	</script>
</body>
</html>